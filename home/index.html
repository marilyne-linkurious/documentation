<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Linkurious documentation</title>
    <link rel="stylesheet" href="styles.css" type="text/css" />
    <link rel="stylesheet" href="css/font-awesome.min.css" type="text/css" />
    <link rel="shortcut icon" href="favicon.ico" />
    <script lang="javascript">
      function getVersions(docSite, cb) {
        var oReq = new XMLHttpRequest();
        var CT_JSON = 'application/json';

        oReq.addEventListener("load", function() {
          if (oReq.status !== 200) {
            return cb(new Error('Unexpected HTTP status: ' + oReq.status), oReq.responseText);
          }

          var ct = oReq.getResponseHeader('Content-Type');
          if ((ct + '').indexOf(CT_JSON) !== 0) {
            return cb(new Error('Unexpected Content-Type ' + ct), oReq.responseText);
          }

          try {
            return cb(null, JSON.parse(oReq.responseText))
          } catch(e) {
            return cb(new Error('JSON parse error: ' + e.message), oReq.responseText);
          }
        });

        oReq.addEventListener("error", function(e) {
          cb(e, null);
        });

        oReq.open("GET", "./" + docSite + "/");
        oReq.setRequestHeader('Accept', CT_JSON);
        oReq.send();
      }

      function getDocVersion(docSite, cssClass) {
        getVersions(docSite, function(err, versions) {
          if (err || !versions || !versions.length) {
            console.log('Could not get versions for ' + docSite);
            return;
          }
          var elements = document.getElementsByClassName(cssClass);
          for (var i = 0, l = elements.length; i < l; ++i) {
            elements[i].innerHTML = 'Latest version: ' + versions[0];
          }
        });
      }

      getDocVersion('server-sdk', 'lke-version');
      getDocVersion('ogma', 'ogma-version');

    </script>
</head>
<body>

<header>
    <div class="logo">
        Documentation of <img src="linkurious-logo.svg" alt="Linkurious" height="12" />
        <!--<h1>Documentation</h1>-->
    </div>
</header>

<div class="main">

    <div class="content">
        <div class="g_5">
          <div class="card_gutter">
                <a class="card_wrapper" href="user-manual/latest/">
                    <div class="card row">
                        <div class="g_4 card_media">
                            <i class="fa fa-book"></i>
                        </div>
                        <div class="g_6 card_content">
                            <div class="card_head">
                                User manual
                            </div>
                            <div class="card_body">
                                <p class="lke-version">See latest version</p>
                            </div>
                        </div>
                    </div>
                </a>
            </div>
        </div>

        <div class="g_5">
          <div class="card_gutter">
                <a class="card_wrapper" href="admin-manual/latest/">
                    <div class="card row">
                        <div class="g_4 card_media">
                            <i class="fa fa-gears"></i>
                        </div>
                        <div class="g_6 card_content">
                            <div class="card_head">
                                Administration manual
                            </div>
                            <div class="card_body">
                                <p class="lke-version">See latest version</p>
                            </div>
                        </div>
                    </div>
                </a>
            </div>
        </div>

        <div class="g_5">
          <div class="card_gutter">
                <a class="card_wrapper" href="server-sdk/latest/">
                    <div class="card row">
                        <div class="g_4 card_media">
                            <i class="fa fa-database"></i>
                        </div>
                        <div class="g_6 card_content">
                            <div class="card_head">
                                Server SDK documentation
                            </div>
                            <div class="card_body">
                                <p class="lke-version">See latest version</p>
                            </div>
                        </div>
                    </div>
                </a>
            </div>
        </div>

        <div class="g_5">
          <div class="card_gutter">
                <a class="card_wrapper" href="ogma/latest/">
                    <div class="card row">
                        <div class="g_4 card_media">
                            <i class="fa fa-connectdevelop"></i>
                        </div>
                        <div class="g_6 card_content">
                            <div class="card_head">
                                Ogma documentation
                            </div>
                            <div class="card_body">
                                <p class="ogma-version">See latest version</p>
                            </div>
                        </div>
                    </div>
                </a>
            </div>
        </div>
    </div>
</div>
</body>
</html>
